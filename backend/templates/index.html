<!DOCTYPE html>
<html>
<head>
    <title>TrafficAI ðŸš¦</title>
    <style>
        body { font-family: Arial; text-align: center; margin-top: 50px; }
        button { padding: 10px 20px; background: black; color: white; border: none; }
        .result { margin-top: 30px; font-size: 18px; }
    </style>
</head>
<body>

<h1>ðŸš¦ TrafficAI Vehicle Detection</h1>

<form id="uploadForm">
    <input type="file" id="fileInput" required>
    <br><br>
    <button type="submit">Analyze Traffic</button>
</form>

<div class="result" id="result"></div>

<script>
document.getElementById("uploadForm").onsubmit = async function(e) {
    e.preventDefault();
    
    const file = document.getElementById("fileInput").files[0];
    const formData = new FormData();
    formData.append("file", file);

    const response = await fetch("/analyze", {
        method: "POST",
        body: formData
    });

    const data = await response.json();

    document.getElementById("result").innerHTML = `
        <h3>Results:</h3>
        Total Vehicles: ${data.total_vehicles} <br>
        Cars: ${data.cars} <br>
        Bikes: ${data.bikes} <br>
        Buses: ${data.buses} <br>
        Trucks: ${data.trucks} <br>
        Traffic Status: <b>${data.traffic_status}</b>
    `;
};
</script>

</body>
</html>
